(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{614:function(e,t,s){"use strict";s.r(t);var a=s(5),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),s("p",[e._v("用过 oh-my-zsh 的小伙伴都知道有非常好看的主题和插件,其中我最喜欢的就是一个插件就是显示自己输入过的命令,但是在 windows 下面的命令行没有发现这个功能一直让我敲代码的快感 -1,一次偶然的机会发现 Powerline 有类似的功能以此介绍了大家")]),e._v(" "),s("h2",{attrs:{id:"powerline安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#powerline安装"}},[e._v("#")]),e._v(" Powerline安装")]),e._v(" "),s("p",[e._v("安装完成的效果")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608093958283.png",alt:"image-20210608093958283"}})]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608092105902.png",alt:"Windows 终端 Powerline PowerShell"}})]),e._v(" "),s("h2",{attrs:{id:"字体文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字体文件"}},[e._v("#")]),e._v(" 字体文件")]),e._v(" "),s("p",[e._v("开始安装之前请先安装字体文件")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/microsoft/cascadia-code/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Releases · microsoft/cascadia-code (github.com)"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"安装步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[e._v("#")]),e._v(" 安装步骤")]),e._v(" "),s("ol",[s("li",[e._v("打开powershell")]),e._v(" "),s("li",[e._v("执行命令")])]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("Install-Module posh-git -Scope CurrentUser\nInstall-Module oh-my-posh -Scope CurrentUser\nInstall-Module -Name PSReadLine -Scope CurrentUser -Force -SkipPublisherCheck\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://github.com/dahlbyk/posh-git",target:"_blank",rel:"noopener noreferrer"}},[e._v("Posh-Git"),s("OutboundLink")],1),e._v(" 将 Git 状态信息添加到提示，并为 Git 命令、参数、远程和分支名称添加 tab 自动补全。")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/JanDeDobbeleer/oh-my-posh",target:"_blank",rel:"noopener noreferrer"}},[e._v("Oh-My-Posh"),s("OutboundLink")],1),e._v(" 为 PowerShell 提示符提供主题功能。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608092128256.png",alt:"image-20210608092105902"}})]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("全部安装完成之后导入配置")])]),e._v(" "),s("p",[e._v("输入 "),s("code",[e._v("notepad $PROFILE")]),e._v(" 打开配置文件")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608092541466.png",alt:"image-20210608092128256"}})]),e._v(" "),s("p",[e._v("点击是然后输入下面的代码")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("Import-Module posh-git\nImport-Module oh-my-posh\nSet-PoshPrompt cert "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#设置主题  如果 Set-PoshPrompt 报错就使用 Set-Theme 设置主题")]),e._v("\nSet-PSReadLineOption -PredictionSource History "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置预测文本来源为历史记录")]),e._v("\n\n\nSet-PSReadlineKeyHandler -Key Tab -Function Complete "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置 Tab 键补全")]),e._v("\nSet-PSReadLineKeyHandler -Key "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ctrl+d"')]),e._v(" -Function MenuComplete "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置 Ctrl+d 为菜单补全和 Intellisense")]),e._v("\nSet-PSReadLineKeyHandler -Key "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ctrl+z"')]),e._v(" -Function Undo "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置 Ctrl+z 为撤销")]),e._v("\nSet-PSReadLineKeyHandler -Key UpArrow -Function HistorySearchBackward "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置向上键为后向搜索历史记录")]),e._v("\nSet-PSReadLineKeyHandler -Key DownArrow -Function HistorySearchForward "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 设置向下键为前向搜索历史纪录")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[e._v("然后重启 powershell")])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608092419436.png",alt:"image-20210608092419436"}})]),e._v(" "),s("p",[e._v("发现字体不对,此时右键标题栏选择属性--\x3e字体修改之前拿到的字体文件")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608092548138.png",alt:"image-20210608092541466"}})]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/image-20210608093355960.png",alt:"image-20210608092548138"}})]),e._v(" "),s("p",[e._v("恢复正常")]),e._v(" "),s("h3",{attrs:{id:"在-vscode-里面使用-powershell"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-vscode-里面使用-powershell"}},[e._v("#")]),e._v(" 在 vscode 里面使用 powershell")]),e._v(" "),s("ul",[s("li",[e._v("在 vscode 中打开 powershell 你会发现又出现了乱码或者显示不正确,那么不用怀疑,一定是字体问题")]),e._v(" "),s("li",[e._v("打开 setting 搜索 terminal.integrated.fontFamily 修改值为  Cascadia Code PL 即可")])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/qianshilei/test/raw/master/img/powerline-powershell.png",alt:"image-20210608093355960"}})]),e._v(" "),s("h3",{attrs:{id:"主题预览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主题预览"}},[e._v("#")]),e._v(" 主题预览")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("Get-PoshThemes "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#获取主题")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("a",{attrs:{href:"https://ohmyposh.dev/docs/themes",target:"_blank",rel:"noopener noreferrer"}},[e._v("Themes | Oh My Posh"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"可能遇到的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可能遇到的问题"}},[e._v("#")]),e._v(" 可能遇到的问题")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Restricted 执行策略不允许任何脚本运行。")]),e._v(" "),s("p",[e._v("AllSigned 和 RemoteSigned 执行策略可防止 Windows PowerShell 运行没有数字签名的脚本。")]),e._v(" "),s("p",[e._v("本主题说明如何运行所选未签名脚本（即使在执行策略为 RemoteSigned 的情况下），还说明如何对 脚本进行签名以便您自己使用。")]),e._v(" "),s("p",[e._v("有关 Windows PowerShell 执行策略的详细信息，请参阅 about_Execution_Policy。")]),e._v(" "),s("p",[e._v("解决方案 :")]),e._v(" "),s("p",[e._v("管理员打开 powershell")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("get-executionpolicy\nset-executionpolicy remotesigned\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("一路 Y 即可")])])]),e._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/windows/terminal/tutorials/powerline-setup",target:"_blank",rel:"noopener noreferrer"}},[e._v("Windows 终端 Powerline 设置 | Microsoft Docs"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/powershell/module/psreadline/?view=powershell-7.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("PSReadLine Module - PowerShell | Microsoft Docs"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);